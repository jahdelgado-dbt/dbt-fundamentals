models:
  - name: stg_jaffle_shop__customers
    description: This model serves as a staging layer for customer data from the Jaffle Shop source. It renames and selects key customer attributes for further transformations and analysis. Grain of the table is one unique customer per row.
    columns:
      - name: customer_id
        description: A unique identifier for each customer.
        data_tests:
          - unique
          - not_null

      - name: first_name
        description: The first name of the customer.
      - name: last_name
        description: The last name of the customer.
      - name: mobile_number
        description: The mobile phone number of the customer.


  - name: stg_jaffle_shop__orders
    description: This model serves as a staging layer for order data from the Jaffle Shop source. It renames and selects key order attributes for further transformations and analysis. Grain of the table is one order per row.
    columns:
      - name: order_id
        description: A unique identifier for each order.
        data_tests:
          - unique
          - not_null
      - name: order_status
        description: "{{ doc('order_status') }}"
        data_tests:
          - accepted_values:
              arguments:
                values:
                  - completed
                  - shipped
                  - returned
                  - placed
                  - return_pending
                  - cancelled
      - name: customer_id
        description: A unique identifier for each customer associated with the order.
        data_tests:
          - relationships:
              arguments: ##top level arguments deprecated in version v1.10.5 and higher
                to: ref('stg_jaffle_shop__customers')
                field: customer_id

      - name: order_date
        description: The date when the order was placed.
      - name: _etl_loaded_at
        description: The timestamp when the order data was loaded into the system.